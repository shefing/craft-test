{"version":3,"file":"getDOMInfo.js","sourceRoot":"","sources":["../src/getDOMInfo.ts"],"names":[],"mappings":"AAAA,MAAM,CAAC,MAAM,UAAU,GAAG,CAAC,EAAe,EAAE,EAAE;IAC5C,MAAM,EACJ,CAAC,EACD,CAAC,EACD,GAAG,EACH,IAAI,EACJ,MAAM,EACN,KAAK,EACL,KAAK,EACL,MAAM,GACP,GAAG,EAAE,CAAC,qBAAqB,EAAa,CAAC;IAE1C,MAAM,KAAK,GAAG,MAAM,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;IAE1C,MAAM,MAAM,GAAG;QACb,IAAI,EAAE,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC;QAChC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC;QAClC,MAAM,EAAE,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC;QACpC,GAAG,EAAE,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC;KAC/B,CAAC;IAEF,MAAM,OAAO,GAAG;QACd,IAAI,EAAE,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC;QACjC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC;QACnC,MAAM,EAAE,QAAQ,CAAC,KAAK,CAAC,aAAa,CAAC;QACrC,GAAG,EAAE,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC;KAChC,CAAC;IAEF,MAAM,WAAW,GAAG,CAAC,MAAmB,EAAE,EAAE;QAC1C,MAAM,WAAW,GAAQ,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAElD,IAAI,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,KAAK,SAAS,EAAE;YAClD,OAAO;SACR;QAED,IAAI,WAAW,CAAC,KAAK,KAAK,MAAM,EAAE;YAChC,OAAO;SACR;QAED,IAAI,WAAW,CAAC,OAAO,KAAK,MAAM,EAAE;YAClC,OAAO;SACR;QAED,IACE,WAAW,CAAC,OAAO,KAAK,MAAM;YAC9B,WAAW,CAAC,gBAAgB,CAAC,KAAK,QAAQ,EAC1C;YACA,OAAO;SACR;QAED,QAAQ,KAAK,CAAC,QAAQ,EAAE;YACtB,KAAK,QAAQ,CAAC;YACd,KAAK,UAAU;gBACb,MAAM;YACR;gBACE,OAAO;SACV;QAED,QAAQ,EAAE,CAAC,OAAO,EAAE;YAClB,KAAK,IAAI,CAAC;YACV,KAAK,OAAO,CAAC;YACb,KAAK,OAAO,CAAC;YACb,KAAK,OAAO;gBACV,OAAO,IAAI,CAAC;SACf;QAED,QAAQ,KAAK,CAAC,OAAO,EAAE;YACrB,KAAK,OAAO,CAAC;YACb,KAAK,WAAW,CAAC;YACjB,KAAK,OAAO,CAAC;YACb,KAAK,MAAM,CAAC;YACZ,KAAK,MAAM;gBACT,OAAO,IAAI,CAAC;SACf;QAED,OAAO;IACT,CAAC,CAAC;IAEF,OAAO;QACL,CAAC;QACD,CAAC;QACD,GAAG;QACH,IAAI;QACJ,MAAM;QACN,KAAK;QACL,KAAK;QACL,MAAM;QACN,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC;QAC1D,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC;QAC5D,MAAM;QACN,OAAO;QACP,MAAM,EAAE,EAAE,CAAC,aAAa,IAAI,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC,aAAa,CAAC;KAC5D,CAAC;AACJ,CAAC,CAAC","sourcesContent":["export const getDOMInfo = (el: HTMLElement) => {\n  const {\n    x,\n    y,\n    top,\n    left,\n    bottom,\n    right,\n    width,\n    height,\n  } = el.getBoundingClientRect() as DOMRect;\n\n  const style = window.getComputedStyle(el);\n\n  const margin = {\n    left: parseInt(style.marginLeft),\n    right: parseInt(style.marginRight),\n    bottom: parseInt(style.marginBottom),\n    top: parseInt(style.marginTop),\n  };\n\n  const padding = {\n    left: parseInt(style.paddingLeft),\n    right: parseInt(style.paddingRight),\n    bottom: parseInt(style.paddingBottom),\n    top: parseInt(style.paddingTop),\n  };\n\n  const styleInFlow = (parent: HTMLElement) => {\n    const parentStyle: any = getComputedStyle(parent);\n\n    if (style.overflow && style.overflow !== 'visible') {\n      return;\n    }\n\n    if (parentStyle.float !== 'none') {\n      return;\n    }\n\n    if (parentStyle.display === 'grid') {\n      return;\n    }\n\n    if (\n      parentStyle.display === 'flex' &&\n      parentStyle['flex-direction'] !== 'column'\n    ) {\n      return;\n    }\n\n    switch (style.position) {\n      case 'static':\n      case 'relative':\n        break;\n      default:\n        return;\n    }\n\n    switch (el.tagName) {\n      case 'TR':\n      case 'TBODY':\n      case 'THEAD':\n      case 'TFOOT':\n        return true;\n    }\n\n    switch (style.display) {\n      case 'block':\n      case 'list-item':\n      case 'table':\n      case 'flex':\n      case 'grid':\n        return true;\n    }\n\n    return;\n  };\n\n  return {\n    x,\n    y,\n    top,\n    left,\n    bottom,\n    right,\n    width,\n    height,\n    outerWidth: Math.round(width + margin.left + margin.right),\n    outerHeight: Math.round(height + margin.top + margin.bottom),\n    margin,\n    padding,\n    inFlow: el.parentElement && !!styleInFlow(el.parentElement),\n  };\n};\n"]}