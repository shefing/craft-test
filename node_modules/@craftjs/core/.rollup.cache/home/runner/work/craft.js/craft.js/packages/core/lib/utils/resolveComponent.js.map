{"version":3,"file":"resolveComponent.js","sourceRoot":"","sources":["../../src/utils/resolveComponent.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,qBAAqB,EAAE,MAAM,gBAAgB,CAAC;AACvD,OAAO,SAAS,MAAM,gBAAgB,CAAC;AAIvC,MAAM,CAAC,MAAM,gBAAgB,GAAG,CAC9B,QAAkB,EAClB,IAAgC,EAChC,EAAE;IACF,MAAM,aAAa,GAAI,IAAY,CAAC,IAAI,IAAK,IAAY,CAAC,WAAW,CAAC;IAEtE,MAAM,iBAAiB,GAAG,GAAG,EAAE;QAC7B,IAAI,QAAQ,CAAC,aAAa,CAAC,EAAE;YAC3B,OAAO,aAAa,CAAC;SACtB;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrD,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YACtC,MAAM,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;YAE1B,IAAI,EAAE,KAAK,IAAI,EAAE;gBACf,OAAO,IAAI,CAAC;aACb;SACF;QAED,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YAC5B,OAAO,IAAI,CAAC;SACb;IACH,CAAC,CAAC;IAEF,MAAM,YAAY,GAAG,iBAAiB,EAAE,CAAC;IAEzC,SAAS,CACP,YAAY,EACZ,qBAAqB,CAAC,OAAO,CAAC,aAAa,EAAE,aAAa,CAAC,CAC5D,CAAC;IAEF,OAAO,YAAY,CAAC;AACtB,CAAC,CAAC","sourcesContent":["import { ERROR_NOT_IN_RESOLVER } from '@craftjs/utils';\nimport invariant from 'tiny-invariant';\n\nimport { Resolver } from '../interfaces';\n\nexport const resolveComponent = (\n  resolver: Resolver,\n  comp: React.ElementType | string\n) => {\n  const componentName = (comp as any).name || (comp as any).displayName;\n\n  const getNameInResolver = () => {\n    if (resolver[componentName]) {\n      return componentName;\n    }\n\n    for (let i = 0; i < Object.keys(resolver).length; i++) {\n      const name = Object.keys(resolver)[i];\n      const fn = resolver[name];\n\n      if (fn === comp) {\n        return name;\n      }\n    }\n\n    if (typeof comp === 'string') {\n      return comp;\n    }\n  };\n\n  const resolvedName = getNameInResolver();\n\n  invariant(\n    resolvedName,\n    ERROR_NOT_IN_RESOLVER.replace('%node_type%', componentName)\n  );\n\n  return resolvedName;\n};\n"]}